<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Oor Saapadu - Administrator Dashboard</title>
  <link rel="stylesheet" href="admin-style.css" />
</head>
<body style="min-width: 0;">
  <!-- ADMIN NAVBAR -->
  <nav class="admin-navbar">
    <div class="admin-nav-container">
      <div class="admin-logo">
        <span class="admin-logo-icon">üç≤</span>
        <div class="admin">
          <div class ="adminone">
            <span class="admin-logo-text">Oor Saapadu Administrator Panel</span><br>
          </div>
          <div class="admintwo">
            <span class ="admin-logo-subtext">Namma Ooru, Namma Order uhh..!!!</span>
          </div>
        </div>
      </div>
      <div class="admin-nav-actions">
        <span id="adminUser" class="admin-user">Admin</span>
        <button class="logout-btn" onclick="logout()">Logout</button>
      </div>
    </div>
  </nav>

  <div class="admin-container" style="min-width: 0;">
    <!-- SIDEBAR -->
    <aside class="admin-sidebar">
      <ul class="sidebar-menu">
        <li><a href="#" class="menu-item active" onclick="showSection('dashboard')">üìä Dashboard</a></li>
        <li><a href="#" class="menu-item" onclick="showSection('hotels')">üè™ Hotels (Vendors)</a></li>
        <li><a href="#" class="menu-item" onclick="showSection('menu')">üçΩÔ∏è Menu Items</a></li>
        <li><a href="#" class="menu-item" onclick="showSection('orders')">üì¶ Customer Orders</a></li>
        <li><a href="#" class="menu-item" onclick="showSection('donations')">‚ù§Ô∏è Donations</a></li>
        <li><a href="#" class="menu-item" onclick="showSection('reviews')">‚≠êRating & Reviews</a></li>
        <li><a href="#" class="menu-item" onclick="showSection('promos')">üéüÔ∏è Promos</a></li>
        <li><a href="#" class="menu-item" onclick="showSection('customers')">üë• Customers</a></li>
        <li><a href="#" class="menu-item" onclick="showSection('analytics')">üìà Analytics</a></li>
        <li><a href="#" class="menu-item" onclick="showSection('settings')">‚öôÔ∏è Settings</a></li>
        <li><a href="index.html" class="menu-item">‚Üê Back to Site</a></li>
      </ul>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="admin-main">
      <!-- DASHBOARD SECTION -->
      <section id="dashboard" class="admin-section active">
        <div class="section-header">
          <h1>üìä Dashboard</h1>
          <p>Welcome to Oor Saapadu Administrator Panel</p>
        </div>
        
        <div class="dashboard-stats">
          <div class="stat-card stat-card-1">
            <div class="stat-icon">üè™</div>
            <div class="stat-content">
              <p class="stat-label">Total Hotels</p>
              <h3 id="totalHotels" class="stat-value">0</h3>
              <p class="stat-change">+2 this month</p>
            </div>
          </div>
          <div class="stat-card stat-card-2">
            <div class="stat-icon">üì¶</div>
            <div class="stat-content">
              <p class="stat-label">Today Orders</p>
              <h3 id="todayOrders" class="stat-value">0</h3>
              <p class="stat-change">‚Üë 15% from yesterday</p>
            </div>
          </div>
          <div class="stat-card stat-card-3">
            <div class="stat-icon">üí∞</div>
            <div class="stat-content">
              <p class="stat-label">Revenue Today</p>
              <h3 id="revenueToday" class="stat-value">‚Çπ0</h3>
              <p class="stat-change">+‚Çπ2,500 increase</p>
            </div>
          </div>
          <div class="stat-card stat-card-4">
            <div class="stat-icon">‚ù§Ô∏è</div>
            <div class="stat-content">
              <p class="stat-label">Total Donations</p>
              <h3 id="totalDonations" class="stat-value">0</h3>
              <p class="stat-change">Helping the community</p>
            </div>
          </div>
          <div class="stat-card stat-card-5">
            <div class="stat-icon">üë•</div>
            <div class="stat-content">
              <p class="stat-label">Total Customers</p>
              <h3 id="totalCustomers" class="stat-value">0</h3>
              <p class="stat-change">Active users</p>
            </div>
          </div>
          <div class="stat-card stat-card-6">
            <div class="stat-icon">üçΩÔ∏è</div>
            <div class="stat-content">
              <p class="stat-label">Menu Items</p>
              <h3 id="totalMenuItems" class="stat-value">0</h3>
              <p class="stat-change">Across all hotels</p>
            </div>
          </div>
        </div>

        <div class="dashboard-charts">
          <div class="chart-container">
            <h3>üìà Recent Orders</h3>
            <div id="recentOrdersList" class="recent-orders-list"></div>
          </div>
          <div class="chart-container">
            <h3>‚≠ê Top Hotels</h3>
            <div id="topHotelsList" class="top-hotels-list"></div>
          </div>
          <div class="chart-container">
            <h3>üéØ Performance Metrics</h3>
            <div id="performanceStats" class="performance-stats"></div>
          </div>
        </div>
      </section>

      <!-- HOTELS MANAGEMENT SECTION -->
      <section id="hotels" class="admin-section">
        <div class="section-header">
          <h1>üè™ Manage Hotels</h1>
          <button class="btn-add" onclick="openHotelForm()">+ Add Hotel</button>
        </div>

        <div class="table-container">
          <table class="admin-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Hotel Name</th>
                <th>Area</th>
                <th>Cuisine</th>
                <th>Rating</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="hotelsTableBody">
              <!-- Hotels will be populated here -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- HOTEL FORM MODAL -->
      <div id="hotelFormModal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="hotelFormTitle">Add New Hotel</h2>
            <span class="close-btn" onclick="closeHotelForm()">&times;</span>
          </div>
          <form id="hotelForm" class="admin-form">
            <div class="form-group">
              <label>Hotel Name *</label>
              <input type="text" id="hotelName" required placeholder="Enter hotel name" />
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Area *</label>
                <input type="text" id="hotelArea" required placeholder="e.g., Anna Nagar" />
              </div>
              <div class="form-group">
                <label>Location *</label>
                <input type="text" id="hotelLocation" required placeholder="Full address" />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Cuisine Type *</label>
                <input type="text" id="hotelCuisine" required placeholder="e.g., South Indian" />
              </div>
              <div class="form-group">
                <label>Distance (km) *</label>
                <input type="number" id="hotelDistance" required step="0.1" placeholder="0.5" />
              </div>
            </div>
            <div class="form-row">
        <!-- USERS TABLE -->
        <div class="admin-users-section" style="margin-top:40px;">
          <h2>üë• Registered Users</h2>
          <div style="overflow-x:auto;">
            <table class="admin-users-table" style="width:100%;border-collapse:collapse;">
              <thead>
                <tr style="background:#f5f5f5;">
                  <th style="padding:8px 4px;">Name</th>
                  <th style="padding:8px 4px;">Email</th>
                  <th style="padding:8px 4px;">Phone</th>
                </tr>
              </thead>
              <tbody id="adminUsersTableBody">
                <!-- Populated by JS -->
              </tbody>
            </table>
          </div>
        </div>
              <div class="form-group">
                <label>Min Price *</label>
                <input type="number" id="hotelMinPrice" required placeholder="40" />
              </div>
              <div class="form-group">
                <label>Delivery Fee *</label>
                <input type="number" id="hotelDeliveryFee" required placeholder="20" />
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label>Delivery Time *</label>
                <input type="text" id="hotelDeliveryTime" required placeholder="20-30 min" />
              </div>
              <div class="form-group">
                <label>Contact *</label>
                <input type="tel" id="hotelContact" required placeholder="9876543210" />
              </div>
            </div>
            <div class="form-group">
              <label>Hotel Image</label>
              <div class="image-upload-options">
                <input type="url" id="hotelImageUrl" placeholder="Enter image URL (https://...)" oninput="updateImagePreview(this.value)" />
                <div class="upload-separator">OR</div>
                <input type="file" id="hotelImageFile" accept="image/*" onchange="handleImageUpload(event)" />
              </div>
              <div id="hotelImagePreviewContainer" class="image-preview-container">
                <img id="hotelImagePreview" src="" alt="Hotel Preview" style="display: none; max-width: 100%; height: 150px; object-fit: cover; margin-top: 10px; border-radius: 8px; border: 1px solid #ddd;" />
              </div>
            </div>
            <div class="form-actions">
              <button type="button" class="btn-cancel" onclick="closeHotelForm()">Cancel</button>
              <button type="submit" class="btn-save">Save Hotel</button>
            </div>
          </form>
        </div>
      </div>

      <!-- MENU MANAGEMENT SECTION -->
      <section id="menu" class="admin-section">
        <div class="section-header">
          <h1>üçΩÔ∏è Manage Menu Items</h1>
          <button class="btn-add" onclick="openMenuForm()">+ Add Menu Item</button>
        </div>

        <div class="filter-menu">
          <div class="filter-group">
            <label for="menuHotelFilter">Filter by Hotel:</label>
            <select id="menuHotelFilter" class="filter-select" onchange="filterMenuItems()">
              <option value="">All Hotels</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="menuCategoryFilter">Filter by Category:</label>
            <select id="menuCategoryFilter" class="filter-select" onchange="filterMenuItems()">
              <option value="">All Categories</option>
              <option value="breakfast">Breakfast</option>
              <option value="lunch">Lunch</option>
              <option value="snacks">Snacks</option>
              <option value="dinner">Dinner</option>
            </select>
          </div>
        </div>

        <div class="table-container">
          <table class="admin-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>Item Name</th>
                <th>Hotel</th>
                <th>Category</th>
                <th>Price</th>
                <th>Description</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="menuTableBody">
              <!-- Menu items will be populated here -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- MENU FORM MODAL -->
      <div id="menuFormModal" class="modal">
        <div class="modal-content">
          <div class="modal-header">
            <h2 id="menuFormTitle">Add Menu Item</h2>
            <span class="close-btn" onclick="closeMenuForm()">&times;</span>
          </div>
          <form id="menuForm" class="admin-form">
            <div class="form-group">
              <label for="menuHotelSelect">Hotel *</label>
              <select id="menuHotelSelect" required></select>
            </div>
            <div class="form-group">
              <label for="menuCategory">Category *</label>
              <select id="menuCategory" required>
                <option value="">Select Category</option>
                <option value="breakfast">Breakfast</option>
                <option value="lunch">Lunch</option>
                <option value="snacks">Snacks</option>
                <option value="dinner">Dinner</option>
              </select>
            </div>
            <div class="form-group">
              <label>Item Name *</label>
              <input type="text" id="menuItemName" required placeholder="Dosa" />
            </div>
            <div class="form-group">
              <label>Price *</label>
              <input type="number" id="menuItemPrice" required placeholder="50" />
            </div>
            <div class="form-group">
              <label>Description</label>
              <textarea id="menuItemDesc" placeholder="Crispy dosa with chutney"></textarea>
            </div>
            <div class="form-actions">
              <button type="button" class="btn-cancel" onclick="closeMenuForm()">Cancel</button>
              <button type="submit" class="btn-save">Save Item</button>
            </div>
          </form>
        </div>
      </div>

      <!-- ORDERS SECTION -->
      <section id="orders" class="admin-section">
        <div class="section-header">
          <h1>üì¶ Orders Management</h1>
        </div>

        <div class="orders-filter">
          <label for="orderStatusFilter">Filter by Status:</label>
          <select id="orderStatusFilter" class="filter-select" onchange="filterOrders()">
            <option value="">All Status</option>
            <option value="Pending">Pending</option>
            <option value="Confirmed">Confirmed</option>
            <option value="Delivered">Delivered</option>
            <option value="Cancelled">Cancelled</option>
          </select>
        </div>

        <div class="table-container">
          <table class="admin-table">
            <thead>
              <tr>
                <th>Order ID</th>
                <th>Customer</th>
                <th>Hotel</th>
                <th>Items</th>
                <th>Amount</th>
                <th>Status</th>
                <th>Date</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="ordersTableBody">
              <!-- Orders will be populated here -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- DONATIONS SECTION -->
      <section id="donations" class="admin-section">
        <div class="section-header">
          <h1>‚ù§Ô∏è Donations Management</h1>
        </div>

        <div class="table-container">
          <table class="admin-table">
            <thead>
              <tr>
                <th>Donation ID</th>
                <th>Donor</th>
                <th>Hotel</th>
                <th>Orphanage</th>
                <th>Items</th>
                <th>Amount</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody id="donationsTableBody">
              <!-- Donations will be populated here -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- REVIEWS SECTION -->
      <section id="reviews" class="admin-section">
        <div class="section-header">
          <h1>‚≠ê Reviews Management</h1>
        </div>

        <div class="filter-menu">
          <div class="filter-group">
            <label for="reviewHotelFilter">Filter by Hotel:</label>
            <select id="reviewHotelFilter" class="filter-select" onchange="filterReviews()">
              <option value="">All Hotels</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="reviewRatingFilter">Filter by Rating:</label>
            <select id="reviewRatingFilter" class="filter-select" onchange="filterReviews()">
              <option value="">All Ratings</option>
              <option value="5">5 Stars ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</option>
              <option value="4">4 Stars ‚≠ê‚≠ê‚≠ê‚≠ê</option>
              <option value="3">3 Stars ‚≠ê‚≠ê‚≠ê</option>
              <option value="2">2 Stars ‚≠ê‚≠ê</option>
              <option value="1">1 Star ‚≠ê</option>
            </select>
          </div>
        </div>

        <div class="table-container">
          <table class="admin-table">
            <thead>
              <tr>
                <th>Review ID</th>
                <th>Hotel</th>
                <th>Customer</th>
                <th>Rating</th>
                <th>Review</th>
                <th>Date</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="reviewsTableBody">
              <!-- Reviews will be populated here -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- CUSTOMERS SECTION -->
      <section id="customers" class="admin-section">
        <div class="section-header">
          <h1>üë• Customers Management</h1>
        </div>

        <div class="table-container">
          <table class="admin-table">
            <thead>
              <tr>
                <th>Customer ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Orders</th>
                <th>Total Spent</th>
                <th>Join Date</th>
              </tr>
            </thead>
            <tbody id="customersTableBody">
              <!-- Customers will be populated here -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- ANALYTICS SECTION -->
      <section id="analytics" class="admin-section">
        <div class="section-header">
          <h1>üìà Analytics & Reports</h1>
        </div>

        <div class="analytics-container">
          <div class="analytics-card">
            <h3>üìä Order Statistics</h3>
            <div id="orderStats" class="stats-list"></div>
          </div>
          <div class="analytics-card">
            <h3>üçΩÔ∏è Popular Items</h3>
            <div id="popularItemsList" class="popular-list"></div>
          </div>
          <div class="analytics-card">
            <h3>üí∞ Revenue Breakdown</h3>
         lÃ•   <div id="revenueBreakdown" class="revenue-list"></div>
          </div>
        </div>
      </section>

      <!-- PROMO CODES SECTION -->
      <section id="promos" class="admin-section">
        <div class="section-header">
          <h1>üéüÔ∏è Promo Codes Management</h1>
          <button class="btn-add" onclick="openPromoForm()">+ Create Promo</button>
        </div>

        <div class="table-container">
          <table class="admin-table">
            <thead>
              <tr>
                <th>Code</th>
                <th>Discount</th>
                <th>Min Order</th>
                <th>Expires On</th>
                <th>Used</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="promosTableBody">
              <!-- Promo codes will be populated here -->
            </tbody>
          </table>
        </div>
      </section>

      <!-- SETTINGS SECTION -->
      <section id="settings" class="admin-section">
        <div class="section-header">
          <h1>‚öôÔ∏è Settings</h1>
        </div>

        <div class="settings-container">
          <div class="settings-card">
            <h3>Commission Settings</h3>
            <div class="form-group">
              <label for="commissionPercentage">Commission Percentage (%)</label>
              <input type="number" id="commissionPercentage" value="10" step="0.1" placeholder="10" />
            </div>
            <div class="form-group">
              <label for="minOrderValue">Minimum Order Value (‚Çπ)</label>
              <input type="number" id="minOrderValue" value="50" placeholder="50" />
            </div>
            <button class="btn-save" onclick="saveCommissionSettings()">Save</button>
          </div>

          <div class="settings-card">
            <h3>Delivery Settings</h3>
            <div class="form-group">
              <label for="maxDeliveryDistance">Max Delivery Distance (km)</label>
              <input type="number" id="maxDeliveryDistance" value="10" step="0.5" placeholder="10" />
            </div>
            <div class="form-group">
              <label for="baseDeliveryFee">Base Delivery Fee (‚Çπ)</label>
              <input type="number" id="baseDeliveryFee" value="20" placeholder="20" />
            </div>
            <button class="btn-save" onclick="saveDeliverySettings()">Save</button>
          </div>

          <div class="settings-card">
            <h3>Account Settings</h3>
            <div class="form-group">
              <label>Admin Email</label>
              <input type="email" id="adminEmail" placeholder="admin@oorsaapadu.com" />
            </div>
            <div class="form-group">
              <label>Change Password</label>
              <input type="password" id="adminPassword" placeholder="New password" />
            </div>
            <button class="btn-save" onclick="updateAdminSettings()">Update</button>
          </div>
        </div>
      </section>
    </main>
  </div>
 <script type="module" src="app.js"></script>
</body>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyBRam0c4IWTvs7QxC4k1KmUsJZUwHytlZM",
    authDomain: "oor-saapadu-a4305.firebaseapp.com",
    projectId: "oor-saapadu-a4305",
    storageBucket: "oor-saapadu-a4305.firebasestorage.app",
    messagingSenderId: "820990533124",
    appId: "1:820990533124:web:8be1200e4676902dd4df51",
    measurementId: "G-JH96E3EZSE"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
</html>
